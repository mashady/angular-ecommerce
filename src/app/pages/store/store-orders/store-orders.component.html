<table class="table table-bordered" *ngIf="storeOrders$ | async as orders">
  <thead *ngIf="orders.length > 0">
    <tr>
      <th scope="col">Order</th>
      <th scope="col">Date</th>
      <th scope="col">Status</th>
      <th scope="col">Total</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody *ngIf="orders.length > 0">
    <tr *ngFor="let order of orders">
      <th scope="row">
        <span class="orderNumber">#{{ order._id | slice : 0 : 5 }}...</span>
      </th>
      <td>
        <span>{{ order.createdAt | date : "MMM d, y, h:mm a" }}</span>
      </td>
      <td>
        <span>{{ order.status }}</span>
      </td>
      <td>
        <span>{{ order.totalOrderPrice | currency }}</span>
      </td>
      <td>
        <button
          type="button"
          class="btn"
          [routerLink]="['/store/orders', order._id]"
        >
          View
        </button>
      </td>
    </tr>
  </tbody>

  <ng-template #noOrders>
    <div *ngIf="orders.length === 0">
      <p>No orders found.</p>
      <button class="btn">
        <a routerLink="/shop">Return to shop</a>
      </button>
    </div>
  </ng-template>
</table>
